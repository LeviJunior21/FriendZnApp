{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { Publicacao } from \"../model/Publicacao\";\nimport { Usuario } from \"../model/Usuario\";\nimport { listarComentarios } from \"./getComentarios\";\nexport var getPublicacoes = function () {\n  var _ref = _asyncToGenerator(function* (setPublicacoes) {\n    try {\n      var response = yield fetch('http://10.0.0.181:8080/v1/publicacoes');\n      if (response.ok) {\n        var data = yield response.json();\n        var publicacoes = data.map(function (item) {\n          var date = new Date(item.date);\n          var usuario = Usuario.builder().withApelido(item.usuario.apelido).withId(item.usuario.id).build();\n          var comentarios = listarComentarios(item.comentarios);\n          return Publicacao.builder().withId(item.id).withUsuario(usuario).withDate(date).withComentarios(comentarios).withPublicacao(item.publicacao).withCategoria(item.categoria).build();\n        });\n        setPublicacoes(publicacoes);\n      } else {\n        console.error('Ocorreu um erro na requisição HTTP');\n      }\n    } catch (error) {\n      console.error('Ocorreu ao buscar os dados:', error);\n    }\n  });\n  return function getPublicacoes(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["Publicacao","Usuario","listarComentarios","getPublicacoes","_ref","_asyncToGenerator","setPublicacoes","response","fetch","ok","data","json","publicacoes","map","item","date","Date","usuario","builder","withApelido","apelido","withId","id","build","comentarios","withUsuario","withDate","withComentarios","withPublicacao","publicacao","withCategoria","categoria","console","error","_x","apply","arguments"],"sources":["/home/marcos_anderson/MeusProjetos/FriedZone/friendzoneapp/utils/getPublicacoes.tsx"],"sourcesContent":["import { Dispatch, SetStateAction } from \"react\";\nimport { Publicacao } from \"../model/Publicacao\";\nimport { Usuario } from \"../model/Usuario\";\nimport { Comentario } from \"../model/Comentario\";\nimport { Categoria, PublicacaoInterface } from \"./interfaces\";\nimport { listarComentarios } from \"./getComentarios\";\n\nexport const getPublicacoes = async(setPublicacoes: Dispatch<SetStateAction<Publicacao[]>>) => {\n    try {\n        const response = await fetch('http://10.0.0.181:8080/v1/publicacoes');\n\n        if (response.ok) {\n            const data = await response.json();\n            const publicacoes: Publicacao[] = data.map((item: PublicacaoInterface) => {\n                const date = new Date(item.date);\n\n                const usuario: Usuario = Usuario.builder()\n                    .withApelido(item.usuario.apelido)\n                    .withId(item.usuario.id)\n                    .build();\n\n                const comentarios: Comentario[] = listarComentarios(item.comentarios);\n                \n                return Publicacao.builder()\n                    .withId(item.id)\n                    .withUsuario(usuario)\n                    .withDate(date)\n                    .withComentarios(comentarios)\n                    .withPublicacao(item.publicacao)\n                    .withCategoria(item.categoria)\n                    .build();\n            });\n\n            setPublicacoes(publicacoes);\n        } else {\n            console.error('Ocorreu um erro na requisição HTTP');\n        }\n        } catch (error) {\n            console.error('Ocorreu ao buscar os dados:', error);\n    }\n}\n"],"mappings":";AACA,SAASA,UAAU;AACnB,SAASC,OAAO;AAGhB,SAASC,iBAAiB;AAE1B,OAAO,IAAMC,cAAc;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAMC,cAAsD,EAAK;IAC3F,IAAI;MACA,IAAMC,QAAQ,SAASC,KAAK,CAAC,uCAAuC,CAAC;MAErE,IAAID,QAAQ,CAACE,EAAE,EAAE;QACb,IAAMC,IAAI,SAASH,QAAQ,CAACI,IAAI,CAAC,CAAC;QAClC,IAAMC,WAAyB,GAAGF,IAAI,CAACG,GAAG,CAAC,UAACC,IAAyB,EAAK;UACtE,IAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,IAAI,CAACC,IAAI,CAAC;UAEhC,IAAME,OAAgB,GAAGhB,OAAO,CAACiB,OAAO,CAAC,CAAC,CACrCC,WAAW,CAACL,IAAI,CAACG,OAAO,CAACG,OAAO,CAAC,CACjCC,MAAM,CAACP,IAAI,CAACG,OAAO,CAACK,EAAE,CAAC,CACvBC,KAAK,CAAC,CAAC;UAEZ,IAAMC,WAAyB,GAAGtB,iBAAiB,CAACY,IAAI,CAACU,WAAW,CAAC;UAErE,OAAOxB,UAAU,CAACkB,OAAO,CAAC,CAAC,CACtBG,MAAM,CAACP,IAAI,CAACQ,EAAE,CAAC,CACfG,WAAW,CAACR,OAAO,CAAC,CACpBS,QAAQ,CAACX,IAAI,CAAC,CACdY,eAAe,CAACH,WAAW,CAAC,CAC5BI,cAAc,CAACd,IAAI,CAACe,UAAU,CAAC,CAC/BC,aAAa,CAAChB,IAAI,CAACiB,SAAS,CAAC,CAC7BR,KAAK,CAAC,CAAC;QAChB,CAAC,CAAC;QAEFjB,cAAc,CAACM,WAAW,CAAC;MAC/B,CAAC,MAAM;QACHoB,OAAO,CAACC,KAAK,CAAC,oCAAoC,CAAC;MACvD;IACA,CAAC,CAAC,OAAOA,KAAK,EAAE;MACZD,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IAC3D;EACJ,CAAC;EAAA,gBAjCY9B,cAAcA,CAAA+B,EAAA;IAAA,OAAA9B,IAAA,CAAA+B,KAAA,OAAAC,SAAA;EAAA;AAAA,GAiC1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}